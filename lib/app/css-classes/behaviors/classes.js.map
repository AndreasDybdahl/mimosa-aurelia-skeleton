{"version":3,"sources":["/var/snap-ci/repo/src/app/css-classes/behaviors/classes.js"],"names":[],"mappings":"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","file":"/var/snap-ci/repo/src/app/css-classes/behaviors/classes.js","sourcesContent":["import {Behavior} from 'aurelia-framework';\n\nvar hasClass;\nvar addClass;\nvar removeClass;\nvar toggleClass;\n\nif (\"classList\" in document.createElement(\"_\") && false) {\n  hasClass = (el, n) => el.classList.contains(n);\n  addClass = (el, n) => el.classList.add(n);\n  removeClass = (el, n) => el.classList.remove(n);\n  toggleClass = (el, n) => el.classList.toggle(n);\n} else {\n  let getClassList = (el) => el.className.toString().split(' ');\n  let setClassList = (el, list) => el.className = list.join(' ');\n  let process = (p) => {\n    return (el, ...args) => {\n      let classes = getClassList(el);\n      let result = p(classes, ...args);\n      if (Array.isArray(result)) {\n        setClassList(el, result);\n      } else {\n        return result;\n      }\n    };\n  };\n  let union = (arr, itm) => {\n    if (arr.indexOf(itm) === -1) {\n      arr.push(itm);\n    }\n    return arr;\n  };\n  let remove = (arr, itm) => {\n    let index = arr.indexOf(itm);\n    if (index !== -1) {\n      arr.splice(index, 1);\n    }\n    return arr;\n  };\n  hasClass = process((classes, className) => classes.indexOf(className) > -1);\n  addClass = process((classes, className) => union(classes, className));\n  removeClass = process((classes, className) => remove(classes, className));\n  toggleClass = process((classes, className) => classes.indexOf(className) > -1 ? remove(classes, className) : union(classes, className));\n}\n\nexport class ClassesBehaviour {\n  static metadata() {\n    return Behavior\n      .attachedBehavior('classes')\n      .withProperty('value', 'valueChanged', 'classes');\n  }\n\n  static inject() { return [Element]; }\n  constructor(element) {\n    this.element = element;\n  }\n\n  valueChanged(value) {\n    var classes = Object.keys(value)\n      .map(k => [k, value[k] ? true : false]);\n\n    for (let [name, active] of classes) {\n      if (active) {\n        addClass(this.element, name);\n      } else {\n        removeClass(this.element, name);\n      }\n    }\n  }\n}"]}