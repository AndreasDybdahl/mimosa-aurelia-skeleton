{"version":3,"sources":["/var/snap-ci/repo/src/app/services/blog.js"],"names":[],"mappings":";;;4BAAM,SAAS,EAEX,KAAK,EA2CI,WAAW;;;AAVxB,WAAS,MAAM,CAAC,GAAG,EAAE;AACnB,QAAI,GAAG,GAAG,EAAE,CAAC;AACb,WAAO,GAAG,CAAC,MAAM,CAAC,UAAA,GAAG,EAAI;AACvB,UAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,EACzB,OAAO,KAAK,CAAC;;AAEf,aAAO,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;KACxB,CAAC,CAAC;GACJ;;;;;;;;;;AA3CK,eAAS,GAAG,CAAC;AAEf,WAAK,GAAG,CACT;AACC,UAAE,EAAE,CAAC;AACL,aAAK,EAAE,2BAA2B;AAClC,YAAI,EAAE,2BAA2B;AACjC,YAAI,EAAE,0BAA0B;AAChC,YAAI,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;AACvB,eAAO,4JAYN;OACF,EACD;AACE,UAAE,EAAE,CAAC;AACL,aAAK,EAAE,qBAAqB;AAC5B,YAAI,EAAE,qBAAqB;AAC3B,YAAI,EAAE,0BAA0B;AAChC,YAAI,EAAE,CAAC,MAAM,CAAC;AACd,eAAO,kEAEN;OACF,CACF;AAYY,iBAAW;iBAAX,WAAW;;6BAAX,WAAW;AACtB,mBAAS;mBAAA,qBAAW;kBAAV,IAAI,gCAAG,CAAC;AAChB,qBAAO,IAAI,OAAO,CAAC,UAAA,OAAO,EAAI;AAC5B,oBAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC;AACpD,oBAAI,KAAK,KAAK,CAAC,EACb,KAAK,GAAG,CAAC,CAAC;;AAEZ,oBAAI,IAAI,GAAG,KAAK,EACd,MAAM,IAAI,KAAK,2BAAyB,IAAI,YAAS,CAAC;;AAExD,oBAAI,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAA,GAAI,SAAS,EAAE,SAAS,CAAC,CAAC;AAC5D,uBAAO,CAAC;AACN,uBAAK,EAAE,MAAM;AACb,sBAAI,EAAE,IAAI;AACV,uBAAK,EAAE,KAAK;iBACb,CAAC,CAAC;eACJ,CAAC,CAAC;aACJ;;;;;AAED,iBAAO;mBAAA,mBAAG;AACR,qBAAO,IAAI,OAAO,CAAC,UAAA,OAAO,EAAI;AAC5B,oBAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,GAAG,CAAC,UAAA,CAAC;yBAAI,CAAC,CAAC,IAAI;iBAAA,CAAC,CAAC,CAAC;AACpE,oBAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AACpB,uBAAO,CAAC,IAAI,CAAC,CAAC;eACf,CAAC,CAAC;aACJ;;;;;;;eAzBU,WAAW;;6BAAX,WAAW","file":"/var/snap-ci/repo/src/app/services/blog.js","sourcesContent":["const PAGE_SIZE = 5;\n\nlet posts = [\n   {\n    id: 2,\n    title: 'This is another test post',\n    slug: 'this-is-another-test-post',\n    date: '2015-01-29T22:26:08.549Z',\n    tags: ['test', 'funky'],\n    content: `\nThis post is a lot more funky than the other.\n\nIt has stuff that the other does not.\n\n* See\n* Here\n* Is\n* A\n* List\n\n#### And a heading\n    `\n  },\n  {\n    id: 1,\n    title: 'This is a test post',\n    slug: 'this-is-a-test-post',\n    date: '2015-01-28T22:26:08.549Z',\n    tags: ['test'],\n    content: `\nSo I write a little *markdown*, and it just **works**!\n    `\n  }\n];\n\nfunction unique(arr) {\n  let obj = {};\n  return arr.filter(itm => {\n    if (obj.hasOwnProperty(itm))\n      return false;\n\n    return obj[itm] = true;\n  });\n}\n\nexport class BlogService {\n  getLatest(page = 1) {\n    return new Promise(resolve => {\n      let pages = Math.ceil(posts.length - 1 / PAGE_SIZE);\n      if (pages === 0)\n        pages = 1;\n\n      if (page > pages)\n        throw new Error(`There does not exist ${page} pages`);\n\n      let result = posts.slice((page - 1) * PAGE_SIZE, PAGE_SIZE);\n      resolve({\n        posts: result,\n        page: page,\n        total: pages\n      });\n    });\n  }\n\n  getTags() {\n    return new Promise(resolve => {\n      let tags = Array.prototype.concat.apply([], posts.map(p => p.tags));\n      tags = unique(tags);\n      resolve(tags);\n    });\n  }\n\n\n}"]}