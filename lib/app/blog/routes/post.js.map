{"version":3,"sources":["/var/snap-ci/repo/src/app/blog/routes/post.js"],"names":[],"mappings":";;;MAAQ,WAAW,EAEZ,MAAM,EACN,IAAI,wBAEE,KAAK;;;AALV,iBAAW,iBAAX,WAAW;;AAEZ,YAAM;;AACN,UAAI;;;;;AAEE,WAAK;AAEL,iBAFA,KAAK,CAEJ,WAAW,EAAE;AACvB,cAAI,CAAC,WAAW,GAAG,WAAW,CAAC;SAChC;;6BAJU,KAAK;AACT,gBAAM;mBAAA,kBAAG;AAAE,qBAAO,CAAC,WAAW,CAAC,CAAC;aAAE;;;;;AAKzC,qBAAW;mBAAA,qBAAC,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE;;kBACzB,IAAI,GAAuB,MAAM,CAAjC,IAAI;kBAAE,KAAK,GAAgB,MAAM,CAA3B,KAAK;kBAAE,IAAI,GAAU,MAAM,CAApB,IAAI;kBAAE,IAAI,GAAI,MAAM,CAAd,IAAI;AAC5B,qBAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CACrD,IAAI,CAAC,UAAA,IAAI,EAAI;AACZ,oBAAI,IAAI,KAAK,IAAI,EACf,OAAO,KAAK,CAAC;;AAEf,sBAAK,IAAI,GAAG,IAAI,CAAC;AACjB,sBAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AACnC,uBAAO,IAAI,CAAC;eACb,CAAC,CAAC;aACN;;;;AAED,aAAG;mBAAA,aAAC,IAAI,EAAE;AACR,kBAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7B,iCAAiB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,SAAI,IAAI,CAAC,IAAI,OAAG;aAC3D;;;;AAED,cAAI;mBAAA,cAAC,IAAI,EAAE;AACT,qBAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aAC1C;;;;AAED,yBAAe;mBAAA,2BAAG;AAChB,qBAAO,IAAI,CAAC;aACb;;;;;;eA9BU,KAAK","file":"/var/snap-ci/repo/src/app/blog/routes/post.js","sourcesContent":["import {BlogService} from '../services/blog';\n\nimport moment from 'moment';\nimport view from './post.html!';\n\nexport class Index {\n  static inject() { return [BlogService]; }\n  constructor(blogService) {\n    this.blogService = blogService;\n  }\n\n  canActivate(params, qs, config) {\n    let {date, month, year, slug} = params;\n    return this.blogService.getPost(year, month, date, slug)\n      .then(post => {\n        if (post === null)\n          return false;\n\n        this.post = post;\n        config.navModel.title = post.title;\n        return true;\n      });\n  }\n\n  url(post) {\n    let date = moment(post.date);\n    return `#/blog/${date.format('YYYY/MM/DD')}/${post.slug}/`\n  }\n\n  date(post) {\n    return moment(post.date).format('MMM D');\n  }\n\n  getViewStrategy() {\n    return view;\n  }\n}"]}