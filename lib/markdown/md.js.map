{"version":3,"sources":["/var/snap-ci/repo/src/markdown/md.js"],"names":[],"mappings":";;;MAAqB,IAAI,EAErB,QAAQ,EAIJ,GAAG,EACH,QAAO,EACP,IAAI,EACJ,KAAK,EAIP,kBAAkB;;uBAER,SAAS;;AAAlB,WAAS,SAAS,CAAC,IAAI,EAAE;AAC9B,WAAO,QAAQ,CAAC,IAAI,CAAC,UAAA,QAAQ,EAAI;AAC/B,UAAM,SAAS,GAAG,IAAI,QAAQ,CAAC,SAAS,EAAE,CAAC;AAC3C,UAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CACvB,OAAO,CAAC,kBAAkB,EAAE,QAAa,CAAC,CAAC;;AAE9C,UAAI,CAAC,MAAM,kBAAgB,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAa,CAAC;;AAEnE,aAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,UAAA,IAAI,EAAI;AAC9C,YAAI,mDACkC,CAAC;AACvC,eAAO,IAAI,CAAC;OACb,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ;;;AA7BoB,UAAI,SAAjB,SAAS;;;AAEb,cAAQ;;AACZ,UAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AACjC,gBAAQ,GAAG,MAAM,UAAO,CAAC,UAAU,CAAC,CAAA;OACrC,MAAM;AACC,WAAG,GAAG,OAAO,CAAC,GAAG,EAAE;AACnB,gBAAO,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO;AACpC,YAAI,GAAG,QAAO,CAAC,MAAM,CAAC;AACtB,aAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,cAAc,EAAE,UAAU,CAAC;;AACxD,gBAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,QAAO,CAAC,KAAK,CAAC,CAAC,CAAC;OAC5C;;AAEK,wBAAkB,GAAG,YAAY","file":"/var/snap-ci/repo/src/markdown/md.js","sourcesContent":["import {translate as html} from 'html';\n\nlet showdown;\nif (typeof window !== 'undefined') {\n  showdown = System.import('showdown') \n} else {\n  const dir = process.cwd();\n  const require = process.mainModule.require;\n  const path = require('path');\n  const mpath = path.join(dir, 'node_modules', 'showdown');\n  showdown = Promise.resolve(require(mpath));\n}\n\nconst interpolationRegex = /\\${(.*?)}/g;\n\nexport function translate(load) {\n  return showdown.then(Showdown => {\n    const converter = new Showdown.converter();\n    const source = load.source\n      .replace(interpolationRegex, '$\\u200B{$1}');\n\n    load.source = `<template>${converter.makeHtml(source)}</template>`;\n\n    return Promise.resolve(html(load)).then(code => {\n      code += `\n  require('md/rt').postfix(module.exports);`;\n      return code;\n    });\n  });\n}"]}